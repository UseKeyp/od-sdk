import { WETH, ARB, OD, WSTETH, CBETH, RETH, MAGIC } from '../utils'

// All keys are mandatory
export type ContractKey =
    | 'MULTICALL'
    | 'ETH'
    | 'GEB_SYSTEM_COIN'
    | 'GEB_PROTOCOL_TOKEN'
    | 'GEB_SAFE_ENGINE'
    | 'GEB_ORACLE_RELAYER'
    | 'GEB_SURPLUS_AUCTION_HOUSE'
    | 'GEB_DEBT_AUCTION_HOUSE'
    | 'GEB_COLLATERAL_AUCTION_HOUSE_FACTORY'
    | 'GEB_ACCOUNTING_ENGINE'
    | 'GEB_LIQUIDATION_ENGINE'
    | 'GEB_COIN_JOIN'
    | 'GEB_COLLATERAL_JOIN_FACTORY'
    | 'GEB_TAX_COLLECTOR'
    | 'GEB_STABILITY_FEE_TREASURY'
    | 'GEB_GLOBAL_SETTLEMENT'
    | 'GEB_POST_SETTLEMENT_SURPLUS_AUCTION_HOUSE'
    | 'GEB_POST_SETTLEMENT_SURPLUS_AUCTIONEER'
    | 'GEB_RRFM_SETTER'
    | 'GEB_RRFM_CALCULATOR'
    | 'SAFE_MANAGER'
    | 'GEB_GLOBAL_SETTLEMENT'
    | 'PROXY_FACTORY'
    | 'PROXY_BASIC_ACTIONS'
    | 'PROXY_REGISTRY'
    | 'GEB_RRFM_SETTER'
    | 'GEB_RRFM_CALCULATOR'
    | 'PROXY_DEBT_AUCTION_ACTIONS'
    | 'PROXY_SURPLUS_AUCTION_ACTIONS'
    | 'PROXY_COLLATERAL_AUCTION_ACTIONS'
    | 'PROXY_POST_SETTLEMENT_SURPLUS_AUCTION_ACTIONS'
    | 'PROXY_GLOBAL_SETTLEMENT_ACTIONS'
    | 'PROXY_REWARDED_ACTIONS'
    | 'JOB_ACCOUNTING'
    | 'JOB_LIQUIDATION'
    | 'JOB_ORACLES'

export type ContractList = {
    [key in ContractKey]: string
}

export declare type GebDeployment = 'arbitrum' | 'arbitrum-goerli'

const addresses: Record<GebDeployment, ContractList> = {
    'arbitrum-goerli': {
        MULTICALL: '0xcA11bde05977b3631167028862bE2a173976CA11',
        ETH: '0xEe01c0CD76354C383B8c7B4e65EA88D00B06f36f',
        GEB_SYSTEM_COIN: '0x8413EB19e42e4D54121B191802Ef06A96eff8640',
        GEB_PROTOCOL_TOKEN: '0x4d8377090cc95D341A3EBe96b6f0C27288c569f5',
        GEB_SAFE_ENGINE: '0x99e452Fc2696dbd07Cb0F8A0ff4ECdB9A279d6cc',
        GEB_ORACLE_RELAYER: '0x895327Eb7511FeE4f529bAbC5e733efC5Ac5c4fc',
        GEB_SURPLUS_AUCTION_HOUSE: '0xc3D2378ADA77c65eC51a02bf87b6484D2e74213C',
        GEB_DEBT_AUCTION_HOUSE: '0xCb8F803f2c19F3FbB5ceB0D1904b81C7D3725040',
        GEB_COLLATERAL_AUCTION_HOUSE_FACTORY: '0x8a9E54D2c5a4FAb57a32C1f72B3Df68e95451729',
        GEB_ACCOUNTING_ENGINE: '0x4815abCa47dE1cf324896d673b002B12aFc8AcEa',
        GEB_LIQUIDATION_ENGINE: '0xD874b07C2BB5c382bdB3ae53b4cFfbEA2dc56D31',
        GEB_COIN_JOIN: '0x5aC1efD8eD60Ee5816F2a1eB7F64F06B93583feC',
        GEB_COLLATERAL_JOIN_FACTORY: '0x0C648D73170eDeb27CD544b6CAcFe5ee9e96347e',
        GEB_TAX_COLLECTOR: '0x95fFd6E1537dB0F3b78b8Ba539BFAbc3822A07aD',
        GEB_STABILITY_FEE_TREASURY: '0x57cD616049db6Acde1c056AA6Cb7577ea522E5F9',
        GEB_GLOBAL_SETTLEMENT: '0x68b8043ABafA7d9B396b424c1EA0599A61c9665d',
        GEB_POST_SETTLEMENT_SURPLUS_AUCTION_HOUSE: '0x69E89b5c0CB5991beAA6196783090D2eEcF0214e',
        GEB_POST_SETTLEMENT_SURPLUS_AUCTIONEER: '0x15703A4a27057E9d8DCA4ec9Cc989806a9498073',
        GEB_RRFM_SETTER: '0xC06eAbB9835E271ee3A16496BF5AfB06b866B6EC',
        GEB_RRFM_CALCULATOR: '0x2125fC0c2B8c8a2DDEdd45F7d02bB53DDD001DD5',
        SAFE_MANAGER: '0xDF8748628D41EF17cba8508D93a859CBeAA3c0D6',
        PROXY_FACTORY: '0xA37a57f71D32ed476B34f32009f1A075fEfDf5Eb',
        PROXY_BASIC_ACTIONS: '0x6c00d87eE3dB3a5cF40e1214c80Fc616091EDdFB',
        PROXY_REGISTRY: '0xA37a57f71D32ed476B34f32009f1A075fEfDf5Eb',
        PROXY_DEBT_AUCTION_ACTIONS: '0x206e39496fc7cb539c3D585AeF36d25214c0bFa5',
        PROXY_SURPLUS_AUCTION_ACTIONS: '0x2bf3374879F6CBdbE9CabB9604EFC176792646dd',
        PROXY_COLLATERAL_AUCTION_ACTIONS: '0x5D814Bf578de5Fd3E900b6Cb754d40E6d0526f78',
        PROXY_POST_SETTLEMENT_SURPLUS_AUCTION_ACTIONS: '0x26092d0E737210B49407C2Cfef06dC7ea35E579f',
        PROXY_GLOBAL_SETTLEMENT_ACTIONS: '0x6A188434C6C4B5BF4405c715513BA552d2b76067',
        PROXY_REWARDED_ACTIONS: '0x2a6dF745eb344f68FBF8Af699391383e9D71Ffa4',
        JOB_ACCOUNTING: '0x126d412c13af2C0134A3D30AC04f6A66C3F743ed',
        JOB_LIQUIDATION: '0x1C4B9a28A70d268AC611D7fFC758361030AbCE08',
        JOB_ORACLES: '0x5F7E9273E256e0519c7F28ed1C13F6c0A5b70610',
    },
    arbitrum: {
        MULTICALL: '0xcA11bde05977b3631167028862bE2a173976CA11',
        ETH: '0x0000000000000000000000000000000000000000',
        GEB_SYSTEM_COIN: '0x0000000000000000000000000000000000000000',
        GEB_PROTOCOL_TOKEN: '0x0000000000000000000000000000000000000000',
        GEB_SAFE_ENGINE: '0x0000000000000000000000000000000000000000',
        GEB_ORACLE_RELAYER: '0x0000000000000000000000000000000000000000',
        GEB_SURPLUS_AUCTION_HOUSE: '0x0000000000000000000000000000000000000000',
        GEB_DEBT_AUCTION_HOUSE: '0x0000000000000000000000000000000000000000',
        GEB_ACCOUNTING_ENGINE: '0x0000000000000000000000000000000000000000',
        GEB_LIQUIDATION_ENGINE: '0x0000000000000000000000000000000000000000',
        GEB_COIN_JOIN: '0x0000000000000000000000000000000000000000',
        GEB_TAX_COLLECTOR: '0x0000000000000000000000000000000000000000',
        GEB_STABILITY_FEE_TREASURY: '0x0000000000000000000000000000000000000000',
        GEB_RRFM_CALCULATOR: '0x0000000000000000000000000000000000000000',
        GEB_RRFM_SETTER: '0x0000000000000000000000000000000000000000',
        GEB_GLOBAL_SETTLEMENT: '0x0000000000000000000000000000000000000000',
        SAFE_MANAGER: '0x0000000000000000000000000000000000000000',
        PROXY_FACTORY: '0x0000000000000000000000000000000000000000',
        PROXY_REGISTRY: '0x0000000000000000000000000000000000000000',
        PROXY_BASIC_ACTIONS: '0x0000000000000000000000000000000000000000',
        PROXY_DEBT_AUCTION_ACTIONS: '0x0000000000000000000000000000000000000000',
        PROXY_SURPLUS_AUCTION_ACTIONS: '0x0000000000000000000000000000000000000000',
        PROXY_COLLATERAL_AUCTION_ACTIONS: '0x0000000000000000000000000000000000000000',
        PROXY_REWARDED_ACTIONS: '0x0000000000000000000000000000000000000000',
        GEB_COLLATERAL_AUCTION_HOUSE_FACTORY: '0x0000000000000000000000000000000000000000',
        GEB_COLLATERAL_JOIN_FACTORY: '0x0000000000000000000000000000000000000000',
        GEB_POST_SETTLEMENT_SURPLUS_AUCTION_HOUSE: '0x0000000000000000000000000000000000000000',
        GEB_POST_SETTLEMENT_SURPLUS_AUCTIONEER: '0x0000000000000000000000000000000000000000',
        PROXY_POST_SETTLEMENT_SURPLUS_AUCTION_ACTIONS: '0x0000000000000000000000000000000000000000',
        PROXY_GLOBAL_SETTLEMENT_ACTIONS: '0x0000000000000000000000000000000000000000',
        JOB_ACCOUNTING: '0x0000000000000000000000000000000000000000',
        JOB_LIQUIDATION: '0x0000000000000000000000000000000000000000',
        JOB_ORACLES: '0x0000000000000000000000000000000000000000',
    },
}

export type TokenData = {
    address: string
    decimals: number
    symbol: string
    bytes32String: string
    collateralJoin: string
    collateralAuctionHouse: string
    isCollateral: boolean
}

export type TokenList = {
    [key: string]: TokenData
}

const tokens: Record<GebDeployment, TokenList> = {
    arbitrum: {},
    'arbitrum-goerli': {
        OD: {
            address: '0x8413EB19e42e4D54121B191802Ef06A96eff8640',
            decimals: 18,
            symbol: 'OD',
            bytes32String: OD,
            collateralJoin: '',
            collateralAuctionHouse: '',
            isCollateral: false,
        },
        ODG: {
            address: '0x4d8377090cc95D341A3EBe96b6f0C27288c569f5',
            decimals: 18,
            symbol: 'ODG',
            bytes32String: '',
            collateralJoin: '',
            collateralAuctionHouse: '',
            isCollateral: false,
        },
        WETH: {
            address: '0xEe01c0CD76354C383B8c7B4e65EA88D00B06f36f',
            collateralJoin: '',
            collateralAuctionHouse: '',
            decimals: 18,
            symbol: 'WETH',
            bytes32String: WETH,
            isCollateral: false,
        },
        ARB: {
            address: '0xF09376A1391A2581c29A315a06B869B2b4b834E3',
            collateralJoin: '0x624543DAa75ee98CB26477a1eB24E5521D1DfFd5',
            collateralAuctionHouse: '0xc66dC4D0c0A50c2BF221635957Df4f647C6ccFbd',
            decimals: 18,
            symbol: 'ARB',
            bytes32String: ARB,
            isCollateral: true,
        },
        WSTETH: {
            address: '0xFa065ba6c1d9a4d44DCE8788C5f555c039a95f88',
            collateralJoin: '0x113CfdeEFe78588402FEcee311Dabe8f1C16BB6E',
            collateralAuctionHouse: '0xBaeF4f78F9db83EDF33D59DeDAfa6821610493bC',
            decimals: 18,
            symbol: 'WSTETH',
            bytes32String: WSTETH,
            isCollateral: true,
        },
        CBETH: {
            address: '0xb9Cf77Bf479E3EC1b606B7a5C519083e504689d6',
            collateralJoin: '0x3E564C613F0F7EBa0837fc8389D41FE9F1576b46',
            collateralAuctionHouse: '0x563229D4B0dEf7bb04b0d5D5Fa65Be0A9658140a',
            decimals: 18,
            symbol: 'CBETH',
            bytes32String: CBETH,
            isCollateral: true,
        },
        RETH: {
            address: '0x52E7AeCd39F5d80Cbf6556f3A3905AA3d2f5837d',
            collateralJoin: '0xcDA1e0865877026D7be8B1187AC37A8c9145Ba7E',
            collateralAuctionHouse: '0xCeCB53B46A92aAd14e6ab3791000A24f105f6099',
            decimals: 18,
            symbol: 'RETH',
            bytes32String: RETH,
            isCollateral: true,
        },
        MAGIC: {
            address: '0x3775854dC472D08dA9BB533a4ac4774BC334D741',
            collateralJoin: '0x329A880153959f0aE50Eb49954Dc02B133fc9887',
            collateralAuctionHouse: '0x11da3b8a7c2aF0E1945720C7bfeEF0C44Cc86301',
            decimals: 18,
            symbol: 'MAGIC',
            bytes32String: MAGIC,
            isCollateral: true,
        },
    },
}

export const getTokenList = (network: GebDeployment): TokenList => {
    return tokens[network]
}

export const getAddressList = (network: GebDeployment): ContractList => {
    return addresses[network]
}

export const getTokenDetails = (network: GebDeployment, tokenSymbol: string): TokenData | null => {
    const tokenList = getTokenList(network)
    if (tokenSymbol in tokenList) {
        return tokenList[tokenSymbol]
    }
    return null
}
